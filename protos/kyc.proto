syntax = "proto3";
package kyc;
option go_package = "pb/kycService";
import "google/protobuf/timestamp.proto";
//import "github.com/amsokolprotoc-gen-gotag/tagger/tagger.proto";

service KycService {
  rpc submitKYCApplication(applicationRequest) returns(applicationResult){}
  rpc getKYCCheckStatus(applicationRequest) returns(stream check){}
  rpc getApplicantByPersonId(applicantByPersonIdRequest) returns(applicant){}
}

message applicationRequest{
  string applicantId = 1;
}

message applicantByPersonIdRequest {
  string person_id = 1;
}

message check {
  string id = 1;
  string person_id = 2;
  string applicant_id = 3;
  string status = 4;
  repeated tag tags = 5;
  repeated document documents = 6;
  google.protobuf.Timestamp timestamp = 7;
}

message applicationResult {
  bool success = 1;
  string message = 2;
  string applicantId = 3;
}

message address {
  string flat_number = 1;
  string building_number = 2;
  string building_name = 3;
  string street = 4;
  string sub_street = 5;
  string town = 6;
  string state = 7;
  string postcode = 8;
  string country = 9;
}

message applicant {
  string id = 1;
  string person_id = 2;
  string first_name = 3;
  string last_name = 5;
  string email = 6;
  string dob = 7;
  address address = 8;
  string vendor = 9;
}

message applicantsList {
  int64 count = 1;
  repeated applicant applicants = 2;
}

message serviceResponse {
  bool success = 1;
  string message = 2;
}

message tag {

}

message document {

}